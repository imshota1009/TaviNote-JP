# 📚 TaviNote で学ぼう（LEARN.md）

TaviNote は、HTML・CSS・JavaScript だけで作られたアプリです。  
このファイルでは、アプリの仕組みをやさしく解説します。コードを読む入り口としてお使いください！

---

## 🏗️ アプリの全体像

```
ブラウザ
├── index.html  → 画面の「骨格」（ボタン、入力欄、メニューなど）
├── style.css   → 画面の「見た目」（色、大きさ、アニメーションなど）
└── app.js      → 画面の「動き」（ボタンを押したら何が起きるか）
```

> 💡 **たとえるなら:** HTMLは家の「設計図」、CSSは「内装」、JavaScriptは「電気配線」です。

---

## 📦 データの保存方法

TaviNote は **localStorage** という仕組みを使います。  
これはブラウザ内にデータを保存できる機能で、サーバーは不要です。

```
保存のしくみ:
1. ユーザーがメモを書く
2. app.js がデータを JSON という形式に変換
3. localStorage に保存（ブラウザを閉じても消えない）
4. 次にアプリを開くと localStorage からデータを読み込む
```

> ⚠️ **注意:** ブラウザのデータを消去すると、TaviNote のデータも消えます。

---

## 🧩 機能ごとの仕組み

### 📍 周辺検索（GPS）
1. ブラウザの **Geolocation API** で現在地（緯度・経度）を取得
2. **Overpass API**（OpenStreetMapのデータベース）に「この座標の周り1kmのコンビニを探して」とリクエスト
3. 見つかった場所を **Leaflet.js** で地図上にマーカー表示

### 💱 外貨計算機
1. ユーザーが通貨と金額を入力
2. 「自動取得」ボタンを押すと **ExchangeRate API** から最新レートを取得
3. `金額 × レート = 変換結果` を計算して表示

### 👜 持ち物チェックリスト
1. テンプレートを選ぶと、あらかじめ用意されたアイテムリストが追加される
2. チェックを入れると `checked: true` に変更され、取り消し線が表示
3. 進捗バーは `チェック済み ÷ 全体数 × 100` で計算

### 💰 割り勘計算
1. メンバー名をカンマ区切りで入力済み（旅行作成時）
2. 支出を記録するとき「誰が払ったか」を入力
3. アプリが自動計算:
   - `合計 ÷ メンバー数 = 1人あたり`
   - `実際に払った額 − 1人あたり = 差額`
   - プラスなら「受け取る人」、マイナスなら「払う人」

### 🗳️ 投票
1. 質問と選択肢を入力して投票を作成
2. 選択肢をタップすると `votes` が +1 される
3. 棒グラフの幅は `投票数 ÷ 合計投票数 × 100%` で計算

### 📄 旅のしおり
1. ボタンを押すと、旅行データから HTML を自動生成
2. 新しいウィンドウで開く → ブラウザの印刷機能で PDF や紙に出力

---

## 🎨 デザインの仕組み

### CSS カスタムプロパティ
色やサイズは「変数」として管理されています：
```css
--accent: #7CB69D;     /* メインの緑色 */
--bg-card: #ffffff;     /* カードの背景 */
--radius: 12px;         /* 角の丸み */
```
> ダークモードでは、これらの変数の値を一括で変更するだけで全体の色が変わります。

### アニメーション
メモボードの「ピン留めアニメーション」は CSS の `@keyframes` で実現：
```
1. メモが上から降りてくる（translateY）
2. 少し揺れる（rotate）  
3. 定位置に落ち着く
```

---

## 🔰 初めてコードを読む方へ

1. **まず `index.html` を読む** — どんなボタンや画面があるか把握
2. **`app.js` の `init()` 関数を読む** — ボタンが押されたときに何が呼ばれるか
3. **興味のある機能の関数を読む** — 例: `renderPolls()` で投票の表示を理解
4. **`style.css` で見た目を確認** — クラス名で検索すると対応するスタイルが見つかる

---

## 📖 もっと学びたい方へ

| トピック | おすすめリソース |
|---------|---------------|
| HTML/CSS/JS 入門 | [MDN Web Docs](https://developer.mozilla.org/ja/) |
| Leaflet.js（地図） | [Leaflet 公式チュートリアル](https://leafletjs.com/examples.html) |
| localStorage | [MDN localStorage](https://developer.mozilla.org/ja/docs/Web/API/Window/localStorage) |
| CSS アニメーション | [MDN CSS Animations](https://developer.mozilla.org/ja/docs/Web/CSS/CSS_animations) |
| Geolocation API | [MDN Geolocation](https://developer.mozilla.org/ja/docs/Web/API/Geolocation_API) |

---

楽しく学んでいきましょう！ 🎓✨
